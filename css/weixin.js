!function(a){a.fn.wx=function(b){function e(a,b){var c=2e3;b=b||0,!0===window.G_WEIXIN_READY||"WeixinJSBridge"in window?a.apply(null,[]):c>=b&&setTimeout(function(){e(a,b++)},15)}var f,g,h,i,c=a(this),d=a.extend({},a.fn.wx.defaults,b);return document.addEventListener("WeixinJSBridgeReady",function(){window.G_WEIXIN_READY=!0},!1),f={execHandler:function(a){var b,c,d,e;a&&a instanceof Object&&(b=a.callback||null,c=a.args||[],d=a.context||null,e=a.delay||-1,b&&b instanceof Function&&("number"==typeof e&&e>=0?setTimeout(function(){b.apply(d,c)},e):b.apply(d,c)))},execAfterMergerHandler:function(a,b){if(a&&a instanceof Object){var c=a.args||[];a.args=b.concat(c)}this.execHandler(a)}},g={Share:{weibo:function(a,b){e(function(){WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",a,function(a){f.execAfterMergerHandler(b,[a])})})})},timeline:function(a,b){e(function(){WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",a,function(a){f.execAfterMergerHandler(b,[a])})})})},message:function(a,b){e(function(){WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",a,function(a){f.execAfterMergerHandler(b,[a])})})})}},setToolbar:function(a,b){e(function(){!0===a?WeixinJSBridge.call("showToolbar"):WeixinJSBridge.call("hideToolbar"),f.execAfterMergerHandler(b,[a])})},setOptionMenu:function(a,b){e(function(){!0===a?WeixinJSBridge.call("showOptionMenu"):WeixinJSBridge.call("hideOptionMenu"),f.execAfterMergerHandler(b,[a])})},pay:function(a,b){e(function(){var h,c={appId:"",timeStamp:"",nonceStr:"","package":"",signType:"",paySign:""},d=b||{},e=null,g=[a];for(h in c)c.hasOwnProperty(h)&&(c[h]=a[h]||"",console.info(h+" = "+c[h]));WeixinJSBridge.invoke("getBrandWCPayRequest",c,function(a){var b="get_brand_wcpay_request:";switch(a.err_msg){case b+"ok":e=d.success;break;case b+"fail":e=d.fail||d.error;break;case b+"cancel":e=d.cancel||d.error;break;default:e=d.error}f.execAfterMergerHandler(e,g)})})}},h={content:d.con},i={img_url:d.img,img_width:180,img_height:180,link:d.link,desc:d.con,title:d.title},handler={callback:function(){}},g.Share.timeline(i,handler),g.Share.message(i,handler),g.Share.weibo(h,handler),c},a.fn.wx.defaults={title:"仅限内测体验",con:"创新1号仅限内部小伙伴们尽情体验！！",link:document.URL,img:location.protocol+"//"+location.hostname+":"+location.port+"/template/19/img/wx_img_01@2x.jpg?time=1"},a.fn.wx.version="1.0.0"}(Zepto);